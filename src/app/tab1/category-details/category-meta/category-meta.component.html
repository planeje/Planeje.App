<ion-toolbar>
  <ion-title>
    {{ (action === actionsType.EDIT ? 'Editar' : 'Nova') + ' Meta' }}
  </ion-title>
  <ion-buttons slot="start">
    <ion-button  (click)="close()">
      <ion-icon name="chevron-back-outline"></ion-icon>
    </ion-button>
  </ion-buttons>
</ion-toolbar>

<ion-content>
  <form [formGroup]="form" [ngClass]="has-error">
    <ion-item>
      <ion-label position="stacked">Descrição</ion-label>
      <ion-input formControlName="description"></ion-input>
    </ion-item>
    <ion-item>
      <ion-label position="stacked">Valor da Meta</ion-label>
      <ion-input type="number" formControlName="value"></ion-input>
      <div class="error" *ngIf="valueCtrl.hasError('required') && (valueCtrl.dirty || valueCtrl.touched)">
        Campo obrigatório.
      </div>
    </ion-item>
    <ion-item>
      <ion-label position="stacked">Data de vencimento</ion-label>
      <ion-datetime
        cancelText='Cancelar'
        doneText='Salvar'
        formControlName="goalDueDate"
        [min]="currentDate"
        [max]="maxDate"
        displayFormat="DD/MM/YYYY"></ion-datetime>
      <div class="error" *ngIf="goalDueDateCtrl.hasError('required') && (goalDueDateCtrl.dirty || goalDueDateCtrl.touched)">
        Campo obrigatório.
      </div>
    </ion-item>
    <ion-button [disabled]="form.invalid" class="botaoModal" size="block" color="success" (click)="onSave(form.value)">Salvar</ion-button>
  </form>
</ion-content>
